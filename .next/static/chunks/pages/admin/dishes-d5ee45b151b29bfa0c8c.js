(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2137:function(e,t,n){"use strict";function i(e,t,n,i,r,s,a){try{var c=e[s](a),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){i(a,r,s,c,o,"next",e)}function o(e){i(a,r,s,c,o,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return r}})},5045:function(e,t,n){"use strict";var i=n(5893),r=n(7294),s=n(5998),a=n.n(s),c=n(5675),o=n(1163),l=n(9669),d=n.n(l),u=n(401);t.Z=function(e){var t=e._id,n=e.title,s=e.price,l=e.description,h=e.category,m=e.image,p=e.border,x=e.removeFromSearchResults,f=(0,o.useRouter)(),v=(0,r.useState)(!1),g=v[0],y=v[1];return(0,i.jsxs)("div",{className:"flex sm:flex-row flex-col-reverse w-full my-4 text-sm text-gray-700 py-6 ".concat(p?"border-b border-gray-200":""," sm:justify-between gap-6"),children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("div",{className:"font-semibold text-base capitalize",children:n}),(0,i.jsx)("div",{className:"text-primary-light capitalize",children:h}),(0,i.jsx)("p",{className:"text-gray-500 lg:text-sm text-xs",children:l}),(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"font-semibold",children:[(0,i.jsx)("span",{className:"font-normal",children:"Price - "}),(0,i.jsx)(a(),{quantity:s,currency:"INR"})]})}),(0,i.jsxs)("div",{className:"flex items-center gap-4 pt-4",children:[(0,i.jsx)("button",{className:"button py-2 xxs:px-10 px-8 ".concat(g?"opacity-50":""),onClick:function(){return f.push("/admin/update-dish/".concat(t))},disabled:g,children:"Update"}),(0,i.jsx)("button",{className:"button-red py-2 xxs:px-10 px-8 ".concat(g?"opacity-50":""),onClick:function(){return function(e){y(!0),d().post("/api/admin/delete-dish",{_id:e}).then((function(){(0,u.Z)("Dish deleted"),x(e),y(!1)})).catch((function(e){(0,u.Z)("Something went wrong",!0),console.error(e),y(!1)}))}(t)},disabled:g,children:"Delete"})]})]}),(0,i.jsx)("div",{className:"sm:mx-0 sm:ml-6 min-w-max  mx-auto my-auto",children:(0,i.jsx)(c.default,{src:m,width:120,height:120,alt:"",objectFit:"contain"})})]})}},9666:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return h}});var i=n(5893),r=n(7757),s=n.n(r),a=n(2137),c=n(7294),o=n(234),l=n(9008),d=n(5045);function u(e){var t,r=(0,c.useState)(""),u=r[0],h=r[1],m=(0,o.Z)(null===e||void 0===e?void 0:e.dishes),p=m.dishes,x=m.error,f=(0,c.useState)(p),v=f[0],g=f[1],y={keys:["title","description","category"]};x&&console.error(x);var j=function(){var e=(0,a.Z)(s().mark((function e(t){var i,r,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.target.value,h(i),i=i.toLowerCase(),e.next=5,n.e(221).then(n.bind(n,4221));case 5:r=e.sent.default,a=new r(p||[],y),c=a.search(i).map((function(e){var t=e.item;return{_id:t._id,title:t.title,price:t.price,description:t.description,category:t.category,image:t.image}})),g(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){g((function(t){return t.filter((function(t){return t._id!==e}))}))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.default,{children:(0,i.jsx)("title",{children:"Zeal | Dishes"})}),(0,i.jsx)("div",{className:"heightFixAdmin px-6 lg:py-20 sm:py-16 py-12",children:(0,i.jsxs)("div",{className:"mx-auto max-w-screen-xl",children:[(0,i.jsx)("h2",{className:"lg:text-4xl sm:text-3xl text-2xl  font-bold mb-6 ",children:"Dishes"}),(0,i.jsx)("div",{className:"py-2",children:(0,i.jsx)("input",{className:"p-2 pl-6 h-full w-full outline-none cursor-pointer sm:text-base text-sm rounded-lg bg-gray-200",type:"text",value:u,placeholder:"Search a dish",onChange:j})}),(0,i.jsx)("div",{className:"overflow-y-auto hideScrollBar h-96 p-1",children:null===(t=u?v:p)||void 0===t?void 0:t.map((function(e,t){var n=e._id,r=e.title,s=e.price,a=e.description,c=e.category,o=e.image;return(0,i.jsx)(d.Z,{_id:n,title:r,price:s,description:a,category:c,image:o,border:t+1!==(null===p||void 0===p?void 0:p.length),removeFromSearchResults:b},"dish-".concat(n))}))})]})})]})}u.admin=!0;var h=!0;t.default=u},401:function(e,t,n){"use strict";var i=n(5893),r=n(9249);t.Z=function(e,t){(0,r.Am)((0,i.jsx)("div",{className:"font-medium",children:(0,i.jsx)("span",{className:"".concat(t?"text-red-500":""),children:e})}),{position:"top-right",autoClose:4e3,style:{background:"white",color:"#1f2937",fontFamily:"Poppins, sans-serif",height:"auto"},hideProgressBar:!0,pauseOnHover:!1,draggable:!0,draggablePercent:25})}},234:function(e,t,n){"use strict";var i=n(5723);t.Z=function(e){var t;return{dishes:(t=e?(0,i.ZP)("/api/dishes",{initialData:e}):(0,i.ZP)("/api/dishes")).data,isLoading:!t.error&&!t.data,error:t.error}}},1567:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dishes",function(){return n(9666)}])}},function(e){e.O(0,[998,774,888,179],(function(){return t=1567,e(e.s=t);var t}));var t=e.O();_N_E=t}]);